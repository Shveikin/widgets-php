<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <script src="/js/widgets-js/build/widgets.js"></script> -->

    <script src="/js/widgets-js/src/comparator.js"></script>
    <script src="/js/widgets-js/src/convertor.js"></script>
    <script src="/js/widgets-js/src/widgets.js"></script>
    <script src="/js/widgets-js/src/widgetTools.js"></script>
    <script src="/js/widgets-js/src/widgetState.js"></script>
    <script src="/js/widgets-js/src/c.js"></script>
    <script src="/js/widgets-js/src/widgetDom.js"></script>

</head>
<body>
    <button onclick="update()">update</button>
    <button onclick="updateState()">updateState</button>
    <div id="app"></div>
    <hr>
    текущий
    <pre id="dom"></pre>
    <hr>
    старый
    <pre id="update"></pre>
    <script>
        WidgetState.use({
            "sreda_id": 14,
            "weight": 1000,
            "sreda_title": "Воздух",
            "_name": "sreda"
        });  
        
        const app = c.div([
            ['Hello'],
            c.input('test'),
        ])


        const app2 = c.div({
            style: 'border: 1px solid #ccc; padding: 10px;',
            child: [
                WidgetState.name('sreda').watch('sreda_title')
            ],
            onclick(){
                alert(11);
            }
        })


        widgetDom.updateVirtual('#app', app2)
        function update(){
            widgetDom.updateVirtual('#app', app2)
            // c.app(WidgetState.name('sreda').watch('sreda_title'))
        }

        function updateState(){
            WidgetState.names.sreda.sreda_title = 'sd'
        }
    </script>
</body>
</html>


